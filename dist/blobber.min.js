function convertToBase64(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=(()=>t(r.result)),r.onerror=(e=>n(e)),r.readAsDataURL(e)})}function displayImage(e){const t=document.getElementById("image-canvas"),n=t.getContext("2d"),r=new Image;r.onload=function(){const e=400,a=r.width/r.height;let d=e,o=e/a;o>e&&(o=e,d=e*a),t.width=d,t.height=o;const i=(e-d)/2,s=(e-o)/2;n.drawImage(r,i,s,d,o)},r.src=e}function copyBase64String(){const e=document.getElementById("base64-string").value;navigator.clipboard.writeText("![Image]("+e+")").then(()=>{alert("Base64 string copied!")}).catch(e=>{console.error("Failed to copy base64 string:",e)})}document.getElementById("file-input").addEventListener("change",async function(){const e=this.files[0],t=await convertToBase64(e);document.getElementById("base64-string").value=t,displayImage(t)}),document.getElementById("blobber-copy-button").addEventListener("click",copyBase64String);const dropArea=document.querySelector(".drop-area"),fileInput=document.getElementById("file-input");dropArea.addEventListener("dragenter",e=>{e.preventDefault(),dropArea.classList.add("dragover")}),dropArea.addEventListener("dragover",e=>{e.preventDefault(),dropArea.classList.add("dragover")}),dropArea.addEventListener("dragleave",e=>{e.preventDefault(),dropArea.classList.remove("dragover")}),dropArea.addEventListener("drop",e=>{e.preventDefault(),dropArea.classList.remove("dragover");const t=e.dataTransfer.files;fileInput.files=t}),dropArea.addEventListener("click",()=>{fileInput.click()}),fileInput.addEventListener("change",()=>{fileInput.files});